> 注：本文若未说明ES版本则为7.10，其他版本会特别标记，由于ES版本不同，部分差异较大，具体请以官方文档为准
# 一、向量搜索的核心原理
## 1.1 向量化表示的本质
现代AI技术将文本、图像等非结构化数据转化为高维向量（通常128-1024维），这些向量在数学空间中携带语义特征。如：

- 文本嵌入(Embedding)：BERT等模型生成768维向量
- 图像特征：ResNet提取2048维特征向量

## 1.2 向量搜索简介
**向量搜索**，简单来说，就是在向量空间中进行的搜索操作。在传统的文本搜索中，我们通常基于关键词进行匹配，这种方式对于精确匹配的场景效果较好，但在处理语义理解、模糊匹配等复杂场景时显得力不从心。而向量搜索则将文本、图像、音频等各种数据转化为向量表示，通过计算向量之间的相似度来进行搜索。这种方式能够更好地捕捉数据的语义信息，从而实现更精准、更智能的搜索。

例如，对于文本数据，我们可以使用词嵌入（Word Embedding）技术将每个单词映射为一个向量，然后将整个文本的向量表示为其包含单词向量的某种聚合（如平均、求和等）。在搜索时，将查询文本也转化为向量，通过计算查询向量与文档向量之间的相似度，找出与查询最相关的文档。
# 二、Elasticsearch两种核心向量搜索方式
Elasticsearch为了满足向量搜索的需求，在7.0版本新增了两个字段类型``dense_vector`` 和 ``sparse_vector``,分别是密集向量和稀疏向量，其中 ``sparse_vector``在7.6中被弃用，在8.0-8.10版本中是没有该字段类型的。

## 2.1 近似k-NN（HNSW算法）
> 在7.10版本中，没有该方式，因此按照2025/3/1最新版本8.17版本介绍.

k-最近邻（kNN）搜索找到查询向量的k个最近向量，如通过相似性度量所测量的。
### 
## 2.2精确暴力搜索

### Java技术实现全流程
环境准备

## 2.3 两种搜索的对比


# 三、Elasticsearch支持的其他语义搜索方式
Elasticsearch中的``semantic_text``字段也支持语义文本搜索。在使用时只需要将文档的字段设置为``semantic_text``, 不需要指定如何为数据生成嵌入，或者如何对其进行索引。推理端点自动确定要使用的嵌入生成，索引和查询。
![image](https://github.com/user-attachments/assets/ad47b19b-fdb0-47ce-a64b-f8fabb9f7bac)

> **翻译**   警告：此功能处于测试阶段，可能会发生变化。设计和代码不如官方GA功能成熟，并且按原样提供，没有任何保证。Beta版功能不受正式GA功能的支持SLA的限制。

使用时需要注意风险
